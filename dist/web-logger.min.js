/*!
 * WebLogger v1.0.0 (https://github.com/zengzhifei/web-logger#readme)
 * @author zengzhifei
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WebLogger",[],t):"object"==typeof exports?exports.WebLogger=t():e.WebLogger=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),a=n(s),u=o(2),l=n(u),c=o(3),f=n(c),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),this.version=a["default"].version,this.modules=["network","exception"],this.configs={monitorModules:this.modules,modulesCallback:function(e){}},t.hasOwnProperty("monitorModules")&&l["default"].isArray(t.monitorModules)&&t.monitorModules.length){var o=[];for(var n in t.monitorModules)this.modules.indexOf(t.monitorModules[n])>-1&&o.push(t.monitorModules[n]);this.configs.monitorModules=o}if(t.hasOwnProperty("modulesCallback")&&l["default"].isFunction(t.modulesCallback)&&(this.configs.modulesCallback=t.modulesCallback),this.configs.monitorModules.length)for(var i in this.configs.monitorModules){var s=t[this.configs.monitorModules[i]];s=l["default"].isObject(s)?s:{},(!s.hasOwnProperty("callback")||!l["default"].isFunction(s.callback))&&(s.callback=this.configs.modulesCallback),new f["default"](s)}}return i(e,[{key:"config",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l["default"].isString(e)&&e&&null!==t?(this.configs[e]=t)===t:l["default"].isString(e)&&e?this.configs[e]:this.configs}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t){e.exports={name:"web-logger",version:"1.0.0",description:"A logger plugin for web page",main:"dist/web-logger.min.js",directories:{test:"test"},scripts:{test:"mocha"},repository:{type:"git",url:"git+https://github.com/zengzhifei/web-logger.git"},keywords:["logger","monitor"],author:"zengzhifei <zengzhifei@outlook.com>",license:"MIT",bugs:{url:"https://github.com/zengzhifei/web-logger/issues"},homepage:"https://github.com/zengzhifei/web-logger#readme",devDependencies:{"babel-core":"^6.26.3","babel-loader":"^6.2.4","babel-plugin-add-module-exports":"^1.0.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-3":"^6.24.1","json-loader":"^0.5.7",mocha:"^5.2.0",webpack:"^1.12.11"}}},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=new(function(){function e(){o(this,e)}return n(e,[{key:"isArray",value:function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{key:"isString",value:function(e){return"[object String]"==Object.prototype.toString.call(e)}},{key:"isFunction",value:function(e){return"[object Function]"==Object.prototype.toString.call(e)}},{key:"isObject",value:function(e){return"[object Object]"==Object.prototype.toString.call(e)}}]),e}());t["default"]=r,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(2),a=n(s),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.configs={callback:function(e){}},a["default"].isFunction(t.callback)&&(this.configs.callback=t.callback),this._mockAjax()}return i(e,[{key:"_mockAjax",value:function(){var e=this,t=window.XMLHttpRequest.prototype.open,o=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.open=function(){var o=this,n=[].slice.call(arguments);try{var r=null,i=-1;o._network={requestMethod:n[0],requestUrl:n[1],requestType:n[2]?"async":"sync"};var s=o.onreadystatechange||function(){},a=function(){return 0===o.readyState?!o._network.requestTime&&(o._network.requestTime=+new Date):1===o.readyState?!o._network.requestTime&&(o._network.requestTime=+new Date):2===o.readyState||3===o.readyState||4===o.readyState&&(r&&clearInterval(r),o._network.requestTimeout=o.timeout,o._network.requestHeader=o.getAllResponseHeaders().split("\n"),o._network.responseStatus=o.status,o._network.responseType=o.responseType,o._network.responseResult=o.response,o._network.responseTime=+new Date,o._network.costTime=o._network.responseTime-(o._network.requestTime||o._network.responseTime),e.configs.callback(o._network)),s.apply(o,arguments)};o.onreadystatechange=a,r=setInterval(function(){i!==o.readyState&&(i=o.readyState)&&a.call(o)},10)}catch(u){console.log(u)}return t.apply(this,n)},window.XMLHttpRequest.prototype.send=function(){var e=this,t=[].slice.call(arguments);try{if("POST"===e._network.requestMethod.toLocaleUpperCase()){var n={};t[0]&&t[0].split("&").forEach(function(e,t){e=e.split("="),n[e[0]]=e[1]}),e._network.requestData=n}}catch(r){console.log(r)}return o.apply(this,t)}}}]),e}();t["default"]=u,e.exports=t["default"]}])});